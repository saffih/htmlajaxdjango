
<form action="htmlajaxform" method="post">

 <input type="hidden" name="isnested" value="{{isnested}}"/>
 <input type="text" name="msg" value="{{msg}}" title="message"/>
 <input type="submit" value="Send message"/>
</form>

<form action="htmlajaxform" method="get">
 <input type="hidden" name="isnested" value="{{isnested}}"/>
    <input type="submit" value="reset"/>
</form>


<ul>
    <li>
        <div class="nested">
            <form class="nested" action="htmlajaxform" method="get">
                <input type="hidden" name="isnested" value="True"/>
                <input type="submit" value="nested !"/>
            </form>
            <div id="deletemeasap"></div>

            <form class="is-ping-me" action="ping" method="get">
                 <input type="hidden" name="isnested" value="{{isnested}}"/>

                <input type="submit" value="ping"/>
            </form>


        </div>
        <script>
                    $(function (){
                var $thecontainer = $('div#deletemeasap').parents('div.nested').first();
                $thecontainer.find('#deletemeasap').remove();
                    var fred=function (event, data){
                            var $target = $( event.target );

                            if ($target.find('form').length==0){
                                $target.addClass("red");
                            };
                        };
                 setup_ajax_on($thecontainer, fred );
                 // or $thecontainer.on('html_changed', fred);
                });
            </script>
    </li>
</ul>

